/*
 @fileOverview TouchSwipe - jQuery Plugin
 @version 1.6.18

 @author Matt Bryson http://www.github.com/mattbryson
 @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 @see http://labs.rampinteractive.co.uk/touchSwipe/
 @see http://plugins.jquery.com/project/touchSwipe
 @license
 Copyright (c) 2010-2015 Matt Bryson
 Dual licensed under the MIT or GPL Version 2 licenses.

*/
!function(l){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],l):l("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(l){function Na(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=Q),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||={},n=l.extend({},l.fn.swipe.defaults,n),this.each(function(){var b=l(this),r=b.data(G);r||(r=new Oa(this,n),b.data(G,r))})}function Oa(n,b){function r(a){if(!(!0===
e.data(G+"_intouch")||0<l(a.target).closest(b.excludedElements,e).length)){var c=a.originalEvent?a.originalEvent:a;if(!c.pointerType||"mouse"!=c.pointerType||0!=b.fallbackToMouseEvents){var d,f=c.touches,u=f?f[0]:c;g=za;f?h=f.length:!1!==b.preventDefaultEvents&&a.preventDefault();p=0;z=v=q=null;B=C=m=0;x=1;A=0;X=Pa();Y=R=0;return Z(0,u),!f||h===b.fingers||b.fingers===S||aa()?(ba=D(),2==h&&(Z(1,f[1]),C=B=la(k[0].start,k[1].start)),(b.swipeStatus||b.pinchStatus)&&(d=y(c,g))):d=!1,!1===d?(g=w,y(c,g),
d):(b.hold&&(T=setTimeout(l.proxy(function(){e.trigger("hold",[c.target]);b.hold&&(d=b.hold.call(e,c,c.target))},this),b.longTapThreshold)),ca(!0),null)}}}function ma(a){var c=a.originalEvent?a.originalEvent:a;if(g!==t&&g!==w&&!da()){var d=c.touches;var f=Aa(d?d[0]:c);U=D();d&&(h=d.length);b.hold&&clearTimeout(T);g=H;2==h&&(0==C?(Z(1,d[1]),C=B=la(k[0].start,k[1].start)):(Aa(d[1]),B=la(k[0].end,k[1].end),z=1>x?na:oa),x=(B/C).toFixed(2),A=Math.abs(C-B));if(h===b.fingers||b.fingers===S||!d||aa()){q=
Ba(f.start,f.end);var u=v=Ba(f.last,f.end);if(!1!==b.preventDefaultEvents)if(b.allowPageScroll===Q)a.preventDefault();else switch(d=b.allowPageScroll===Ca,u){case E:(b.swipeLeft&&d||!d&&b.allowPageScroll!=pa)&&a.preventDefault();break;case I:(b.swipeRight&&d||!d&&b.allowPageScroll!=pa)&&a.preventDefault();break;case J:(b.swipeUp&&d||!d&&b.allowPageScroll!=qa)&&a.preventDefault();break;case K:(b.swipeDown&&d||!d&&b.allowPageScroll!=qa)&&a.preventDefault()}u=f.start;a=f.end;p=Math.round(Math.sqrt(Math.pow(a.x-
u.x,2)+Math.pow(a.y-u.y,2)));m=U-ba;u=q;a=p;u!=Q&&(a=Math.max(a,Da(u)),X[u].distance=a);if(u=y(c,g),!b.triggerOnTouchEnd||b.triggerOnTouchLeave){a=!0;if(b.triggerOnTouchLeave){var V=l(this);var ea=V.offset();a=ea.left;d=ea.left+V.outerWidth();var Qa=ea.top;V=ea.top+V.outerHeight();f=f.end;a=f.x>a&&f.x<d&&f.y>Qa&&f.y<V}!b.triggerOnTouchEnd&&a?g=ra(H):b.triggerOnTouchLeave&&!a&&(g=ra(t));g!=w&&g!=t||y(c,g)}}else g=w,y(c,g);!1===u&&(g=w,y(c,g))}}function sa(a){var c=a.originalEvent?a.originalEvent:a,
d=c.touches;if(d){if(d.length&&!da())return R=D(),Y=c.touches.length+1,!0;if(d.length&&da())return!0}return da()&&(h=Y),U=D(),m=U-ba,ta()||!ua()?(g=w,y(c,g)):b.triggerOnTouchEnd||!1===b.triggerOnTouchEnd&&g===H?(!1!==b.preventDefaultEvents&&!1!==a.cancelable&&a.preventDefault(),g=t,y(c,g)):!b.triggerOnTouchEnd&&b.tap?(g=t,L(c,g,va)):g===H&&(g=w,y(c,g)),ca(!1),null}function M(){B=C=ba=U=h=0;x=1;Y=R=0;ca(!1)}function wa(a){a=a.originalEvent?a.originalEvent:a;b.triggerOnTouchLeave&&(g=ra(t),y(a,g))}
function Ea(){e.unbind(fa,r);e.unbind(ha,M);e.unbind(xa,ma);e.unbind(ya,sa);N&&e.unbind(N,wa);ca(!1)}function ra(a){var c=a,d=!b.maxTimeThreshold||!(m>=b.maxTimeThreshold),f=ua(),u=ta();return!d||u?c=w:!f||a!=H||b.triggerOnTouchEnd&&!b.triggerOnTouchLeave?!f&&a==t&&b.triggerOnTouchLeave&&(c=w):c=t,c}function y(a,c){var d,f=a.touches;return(!(!Fa()||!Ga())||Ga())&&(d=L(a,c,Ha)),(!(!Ia()||!aa())||aa())&&!1!==d&&(d=L(a,c,Ja)),Ka()&&b.doubleTap&&!1!==d?d=L(a,c,La):m>b.longTapThreshold&&p<Ra&&b.longTap&&
!1!==d?d=L(a,c,Ma):!(1!==h&&O||!(isNaN(p)||p<b.threshold)||!b.tap)&&!1!==d&&(d=L(a,c,va)),c===w&&M(a),c===t&&(f?f.length||M(a):M(a)),d}function L(a,c,d){var f;if(d==Ha){if(e.trigger("swipeStatus",[c,q||null,p||0,m||0,h,k,v]),b.swipeStatus&&(f=b.swipeStatus.call(e,a,c,q||null,p||0,m||0,h,k,v),!1===f))return!1;if(c==t&&Fa()){if(clearTimeout(W),clearTimeout(T),e.trigger("swipe",[q,p,m,h,k,v]),b.swipe&&(f=b.swipe.call(e,a,q,p,m,h,k,v),!1===f))return!1;switch(q){case E:e.trigger("swipeLeft",[q,p,m,h,k,
v]);b.swipeLeft&&(f=b.swipeLeft.call(e,a,q,p,m,h,k,v));break;case I:e.trigger("swipeRight",[q,p,m,h,k,v]);b.swipeRight&&(f=b.swipeRight.call(e,a,q,p,m,h,k,v));break;case J:e.trigger("swipeUp",[q,p,m,h,k,v]);b.swipeUp&&(f=b.swipeUp.call(e,a,q,p,m,h,k,v));break;case K:e.trigger("swipeDown",[q,p,m,h,k,v]),b.swipeDown&&(f=b.swipeDown.call(e,a,q,p,m,h,k,v))}}}if(d==Ja){if(e.trigger("pinchStatus",[c,z||null,A||0,m||0,h,x,k]),b.pinchStatus&&(f=b.pinchStatus.call(e,a,c,z||null,A||0,m||0,h,x,k),!1===f))return!1;
if(c==t&&Ia())switch(z){case oa:e.trigger("pinchIn",[z||null,A||0,m||0,h,x,k]);b.pinchIn&&(f=b.pinchIn.call(e,a,z||null,A||0,m||0,h,x,k));break;case na:e.trigger("pinchOut",[z||null,A||0,m||0,h,x,k]),b.pinchOut&&(f=b.pinchOut.call(e,a,z||null,A||0,m||0,h,x,k))}}return d==va?c!==w&&c!==t||(clearTimeout(W),clearTimeout(T),b.doubleTap&&!Ka()?(F=D(),W=setTimeout(l.proxy(function(){F=null;e.trigger("tap",[a.target]);b.tap&&(f=b.tap.call(e,a,a.target))},this),b.doubleTapThreshold)):(F=null,e.trigger("tap",
[a.target]),b.tap&&(f=b.tap.call(e,a,a.target)))):d==La?c!==w&&c!==t||(clearTimeout(W),clearTimeout(T),F=null,e.trigger("doubletap",[a.target]),b.doubleTap&&(f=b.doubleTap.call(e,a,a.target))):d==Ma&&(c!==w&&c!==t||(clearTimeout(W),F=null,e.trigger("longtap",[a.target]),b.longTap&&(f=b.longTap.call(e,a,a.target)))),f}function ua(){var a=!0;return null!==b.threshold&&(a=p>=b.threshold),a}function ta(){var a=!1;return null!==b.cancelThreshold&&null!==q&&(a=Da(q)-p>=b.cancelThreshold),a}function Ia(){var a=
0!==k[0].end.x,c=null===b.pinchThreshold||A>=b.pinchThreshold;return(h===b.fingers||b.fingers===S||!O)&&a&&c}function aa(){return!!(b.pinchStatus||b.pinchIn||b.pinchOut)}function Fa(){var a=!b.maxTimeThreshold||!(m>=b.maxTimeThreshold),c=ua(),d=h===b.fingers||b.fingers===S||!O,f=0!==k[0].end.x;return!ta()&&f&&d&&c&&a}function Ga(){return!!(b.swipe||b.swipeStatus||b.swipeLeft||b.swipeRight||b.swipeUp||b.swipeDown)}function Ka(){if(null==F)return!1;var a=D();return!!b.doubleTap&&a-F<=b.doubleTapThreshold}
function da(){var a=!1;R&&D()-R<=b.fingerReleaseThreshold&&(a=!0);return a}function ca(a){e&&(!0===a?(e.bind(xa,ma),e.bind(ya,sa),N&&e.bind(N,wa)):(e.unbind(xa,ma,!1),e.unbind(ya,sa,!1),N&&e.unbind(N,wa,!1)),e.data(G+"_intouch",!0===a))}function Z(a,c){var d={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return d.start.x=d.last.x=d.end.x=c.pageX||c.clientX,d.start.y=d.last.y=d.end.y=c.pageY||c.clientY,k[a]=d,d}function Aa(a){var c=void 0!==a.identifier?a.identifier:0,d=k[c]||null;return null===d&&
(d=Z(c,a)),d.last.x=d.end.x,d.last.y=d.end.y,d.end.x=a.pageX||a.clientX,d.end.y=a.pageY||a.clientY,d}function Da(a){if(X[a])return X[a].distance}function Pa(){var a={};return a[E]=ia(E),a[I]=ia(I),a[J]=ia(J),a[K]=ia(K),a}function ia(a){return{direction:a,distance:0}}function la(a,c){var d=Math.abs(a.x-c.x);a=Math.abs(a.y-c.y);return Math.round(Math.sqrt(d*d+a*a))}function Ba(a,c){if(a.x==c.x&&a.y==c.y)return Q;c=Math.round(180*Math.atan2(c.y-a.y,a.x-c.x)/Math.PI);a=(0>c&&(c=360-Math.abs(c)),c);return 45>=
a&&0<=a?E:360>=a&&315<=a?E:135<=a&&225>=a?I:45<a&&135>a?K:J}function D(){return(new Date).getTime()}b=l.extend({},b);var ja=O||P||!b.fallbackToMouseEvents,fa=ja?P?ka?"MSPointerDown":"pointerdown":"touchstart":"mousedown",xa=ja?P?ka?"MSPointerMove":"pointermove":"touchmove":"mousemove",ya=ja?P?ka?"MSPointerUp":"pointerup":"touchend":"mouseup",N=ja?P?"mouseleave":null:"mouseleave",ha=P?ka?"MSPointerCancel":"pointercancel":"touchcancel",p=0,q=null,v=null,m=0,C=0,B=0,x=1,A=0,z=0,X=null,e=l(n),g="start",
h=0,k={},ba=0,U=0,R=0,Y=0,F=0,W=null,T=null;try{e.bind(fa,r),e.bind(ha,M)}catch(a){l.error("events not supported "+fa+","+ha+" on jQuery.swipe")}this.enable=function(){return this.disable(),e.bind(fa,r),e.bind(ha,M),e};this.disable=function(){return Ea(),e};this.destroy=function(){Ea();e.data(G,null);e=null};this.option=function(a,c){if("object"==typeof a)b=l.extend(b,a);else if(void 0!==b[a]){if(void 0===c)return b[a];b[a]=c}else{if(!a)return b;l.error("Option "+a+" does not exist on jQuery.swipe.options")}return null}}
var E="left",I="right",J="up",K="down",oa="in",na="out",Q="none",Ca="auto",Ha="swipe",Ja="pinch",va="tap",La="doubletap",Ma="longtap",pa="horizontal",qa="vertical",S="all",Ra=10,za="start",H="move",t="end",w="cancel",O="ontouchstart"in window,ka=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!O,P=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!O,G="TouchSwipe";l.fn.swipe=function(n){var b=l(this),r=b.data(G);if(r&&"string"==typeof n){if(r[n])return r[n].apply(r,
Array.prototype.slice.call(arguments,1));l.error("Method "+n+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof n)r.option.apply(r,arguments);else if(!(r||"object"!=typeof n&&n))return Na.apply(this,arguments);return b};l.fn.swipe.version="1.6.18";l.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,
swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};l.fn.swipe.phases={PHASE_START:za,PHASE_MOVE:H,PHASE_END:t,PHASE_CANCEL:w};l.fn.swipe.directions={LEFT:E,RIGHT:I,UP:J,DOWN:K,IN:oa,OUT:na};l.fn.swipe.pageScroll={NONE:Q,HORIZONTAL:pa,VERTICAL:qa,AUTO:Ca};l.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,
FOUR:4,FIVE:5,ALL:S}});
